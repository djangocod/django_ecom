{% extends '_base.html' %}
{% load static %}
{% block carousel %}
<style>
  .img-shope {
    max-width: 432px;
    max-height: 432px;
  }

  .car_img {
    max-width: 232px;
    max-height: 232px;
    position: center;
  }
  .select-control{
    width: 130px;
    background-color: rgb(254, 250, 250);
    border: none;
    padding-left: 10px;
    border: 1px solid rgb(252, 216, 216);

  }
</style>
{% include 'includes/navbar.html' %}

<!-- Page Header Start -->
<div class="container-fluid bg-secondary mb-5">
  <div class="d-flex flex-column align-items-center justify-content-center" style="min-height: 300px">
    <h1 class="font-weight-semi-bold text-uppercase mb-3">Shop Detail</h1>
    <div class="d-inline-flex">
      <p class="m-0"><a href="{% url 'stores:store_home' %}">Home</a></p>
      <p class="m-0 px-2">-</p>
      <p class="m-0">{{product.name|capfirst}}</p>
    </div>
  </div>
</div>
<!-- Page Header End -->


<!-- Shop Detail Start -->
<div class="container-fluid py-5">
  <div class="row px-xl-5 product-data">
    <div class="col-lg-5 pb-5 ">
       {% csrf_token %}
        <input type="hidden" name="" class="product-id" value="{{product.id}}">
      <div id="product-carousel" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner border">
          <div class="carousel-item active">
            <img class="w-100 h-100 img-shope" src="{{product.product_image.url}}" alt="Image">
          </div>
          {% if product.product_img1 %}
          <div class="carousel-item">
            <img class="w-100 h-100 img-shope" src="{{product.product_img1.url}}" alt="Image">
          </div>
          {% endif %}
          {% if product.product_img2 %}
          <div class="carousel-item">
            <img class="w-100 h-100 img-shope" src="{{product.product_img2.url}}" alt="Image">
          </div>
          {% endif %}
          {% if product.product_img3 %}
          <div class="carousel-item">
            <img class="w-100 h-100 img-shope" src="{{product.product_img3.url}}" alt="Image">
          </div>
          {% endif %}
        </div>
        <a class="carousel-control-prev" href="#product-carousel" data-slide="prev">
          <i class="fa fa-2x fa-angle-left text-dark"></i>
        </a>
        <a class="carousel-control-next" href="#product-carousel" data-slide="next">
          <i class="fa fa-2x fa-angle-right text-dark"></i>
        </a>
      </div>
    </form>
    </div>
    <div class="col-lg-7 pb-5">
      <h3 class="font-weight-semi-bold">{{product.name|capfirst}}</h3>
      <div class="d-flex mb-3">
        <div class="text-primary mr-2">
          <small class="fas fa-star"></small>
          <small class="fas fa-star"></small>
          <small class="fas fa-star"></small>
          <small class="fas fa-star-half-alt"></small>
          <small class="far fa-star"></small>
        </div>
        <small class="pt-1">({{all_review_count}} Reviews)</small>
      </div>
      <h3 class="font-weight-semi-bold mb-4">${{product.selling_price}}</h3>
      <p class="mb-4">{{product.small_description}}</p>
      <div class="d-flex mb-3">
        <p class="text-dark font-weight-medium mb-0 mr-3">Sizes:</p>
        {{product.sizeproduct.name}}

      </div>
      <div class="d-flex mb-4">
        <p class="text-dark font-weight-medium mb-0 mr-2">Colors:</p>
          <select class="select-control">
           {% comment %} {% for color in sizes %}
              <option value="{{color.name}}">{{color|capfirst}}</option>
            {% endfor %} {% endcomment %}
            </select>
      </div>
      <div class="d-flex align-items-center mb-4 pt-2">
        <div class="input-group quantity mr-3" style="width: 130px;">
          <div class="input-group-btn">
            <button class="btn btn-primary btn-minus">
              <i class="fa fa-minus"></i>
            </button>
          </div>
          <input type="text" class="form-control bg-secondary text-center input-qty" value="1">
          <div class="input-group-btn">
            <button class="btn btn-primary btn-plus">
              <i class="fa fa-plus"></i>
            </button>
          </div>
        </div>
        <button type="submit" class="btn btn-primary px-3 add-to-cart-details"><i class="fa fa-shopping-cart mr-1  "></i> Add To Cart</button>
      </div>
      <div class="d-flex pt-2">
        <p class="text-dark font-weight-medium mb-0 mr-2">Share on:</p>
        <div class="d-inline-flex">
          <a class="text-dark px-2" href="">
            <i class="fab fa-facebook-f"></i>
          </a>
          <a class="text-dark px-2" href="">
            <i class="fab fa-twitter"></i>
          </a>
          <a class="text-dark px-2" href="">
            <i class="fab fa-linkedin-in"></i>
          </a>
          <a class="text-dark px-2" href="">
            <i class="fab fa-pinterest"></i>
          </a>
        </div>
      </div>
    </div>
  </div>
  <div class="row px-xl-5">
    <div class="col">
      <div class="nav nav-tabs justify-content-center border-secondary mb-4">
        <a class="nav-item nav-link active" data-toggle="tab" href="#tab-pane-1">Description</a>
        <a class="nav-item nav-link" data-toggle="tab" href="#tab-pane-2">Information</a>
        <a class="nav-item nav-link" data-toggle="tab" href="#tab-pane-3">Reviews ({{all_review_count}})</a>
      </div>
      <div class="tab-content">
        <div class="tab-pane fade show active" id="tab-pane-1">
          <h4 class="mb-3">Product Description</h4>
          <p>{{product.description}}</p>
        </div>
        <div class="tab-pane fade" id="tab-pane-2">
          <h4 class="mb-3">Additional Information</h4>
          <p>{{product.information}}</p>
          <div class="row">
            <div class="col-md-6">
              <ul class="list-group list-group-flush">
                <li class="list-group-item px-0">
                  Sit erat duo lorem duo ea consetetur, et eirmod takimata.
                </li>
                <li class="list-group-item px-0">
                  Amet kasd gubergren sit sanctus et lorem eos sadipscing at.
                </li>
                <li class="list-group-item px-0">
                  Duo amet accusam eirmod nonumy stet et et stet eirmod.
                </li>
                <li class="list-group-item px-0">
                  Takimata ea clita labore amet ipsum erat justo voluptua. Nonumy.
                </li>
              </ul>
            </div>
            <div class="col-md-6">
              <ul class="list-group list-group-flush">
                <li class="list-group-item px-0">
                  Sit erat duo lorem duo ea consetetur, et eirmod takimata.
                </li>
                <li class="list-group-item px-0">
                  Amet kasd gubergren sit sanctus et lorem eos sadipscing at.
                </li>
                <li class="list-group-item px-0">
                  Duo amet accusam eirmod nonumy stet et et stet eirmod.
                </li>
                <li class="list-group-item px-0">
                  Takimata ea clita labore amet ipsum erat justo voluptua. Nonumy.
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="tab-pane fade" id="tab-pane-3">
          <div class="row">
            <div class="col-md-6">
              <h2>All Reviews</h2>
              <h4 class="mb-4">({{all_review_count}}) review for {{product.name|capfirst }}</h4>
              {% for review in reviews %}
              <div class="row">
                <div class="col">
                  <div class="media mb-4">
                    <img src="{{ review.author.profile.photo.url }}" alt="Image" class="img-fluid mr-3 mt-1"
                      style="width: 45px;">
                    <div class="media-body">
                      <h6>{{review.author.username}}<small> - <i>{{review.create_at|date}}</i></small></h6>
                      <div class="text-primary mb-2">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star-half-alt"></i>
                        <i class="far fa-star"></i>
                      </div>
                      <p>{{review.review}}</p>
                    </div>
                  </div>
                </div>
              </div>
              {% endfor %}
              <hr>
              <nav aria-label="Page navigation">
                <ul class="pagination justify-content-center mb-3">
                  {% with reviews as page %}
                  {% if page.has_previous %}
                  <li class="page-item active">
                    <a class="page-link" href="?page={{page.previous_page_number}}">
                      <span aria-hidden="true">&laquo;</span>
                      <span class="sr-only">Previous</span>
                    </a>
                  </li>
                  {% endif %}
                  {% if page.has_other_pages %}
                  <span class="page-item ">
                    <li class="page-item d-flex">
                      <a class="page-link" href=""> {{ page.number }}</a>
                      <a class="page-link" href=""> {{ page.paginator.num_pages }} </a>
                    </li>
                  </span>
                  {% else %}
                  <span class="page-item">
                    <li class="page-item d-flex">
                     
                    </li>
                  </span>
                  {% endif %}
                  {% if page.has_next %}
                  <li class="page-item active">
                    <a class="page-link" href="?page={{page.next_page_number}}">
                      <span aria-hidden="true">&raquo;</span>
                      <span class="sr-only">Next</span>
                    </a>
                  </li>
                  {% endif %}
                  {% endwith %}
                </ul>
              </nav>

            </div>
            <div class="col-md-6">
              <h4 class="mb-4">Leave a review</h4>
              <small>Your email address will not be published. Required fields are marked *</small>
              <form action="" method="post">
                {% csrf_token %}
                <div class="d-flex my-3">
                  <p class="mb-0 mr-2">Your Rating * :</p>
                  <div class="rate ">
                    <input type="radio" name="rating" id="rating10" value="5"><label for="rating10" title='5'></label>
                    <input type="radio" name="rating" id="rating9" value="4.5"><label for="rating9" title='4.5'
                      class="half"></label>
                    <input type="radio" name="rating" id="rating8" value="4"><label for="rating8" title='4'></label>
                    <input type="radio" name="rating" id="rating7" value="3.5"><label for="rating7" title='3.5'
                      class="half"></label>
                    <input type="radio" name="rating" id="rating6" value="3"><label for="rating6" title='3'></label>
                    <input type="radio" name="rating" id="rating5" value="2.5"><label for="rating5" title='2.5'
                      class="half"></label>
                    <input type="radio" name="rating" id="rating4" value="2"><label for="rating4" title='2'></label>
                    <input type="radio" name="rating" id="rating3" value="1.5"><label for="rating3" title='1.5'
                      class="half"></label>
                    <input type="radio" name="rating" id="rating2" value="1"><label for="rating2" title='1'></label>
                    <input type="radio" name="rating" id="rating1" value="0.5"><label for="rating1" title='0.5'
                      class="half"></label>
                  </div>
                </div>
                <div class="form-group">
                  <label for="message">Your Review *</label>
                  <textarea name="review" cols="30" rows="5" class="form-control"></textarea>
                </div>
                <div class="form-group mb-0">
                  <input type="submit" value="Leave Your Review" class="btn btn-primary px-3">
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Shop Detail End -->


<!-- Products Start -->
<div class="container-fluid py-5">
  <div class="text-center mb-4">
    <h2 class="section-title px-5"><span class="px-2">You May Also Like</span></h2>
  </div>
  <div class="row px-xl-5">
    <div class="col">
      <div class="owl-carousel related-carousel">
        {% for product in products %}
        <div class="card product-item border-0">
          <div class="card-header product-img position-relative overflow-hidden bg-transparent border p-0">
            <img class="img-fluid w-100 car_img" src="{{product.product_image.url}}" alt="{{product.name}}">
          </div>
          <div class="card-body border-left border-right text-center p-0 pt-4 pb-3">
            <h6 class="text-truncate mb-3">{{product.name|capfirst}}</h6>
            <div class="d-flex justify-content-center">
              <h6>${{product.selling_price}}</h6>
              <h6 class="text-muted ml-2"><del>${{product.current_price}}</del></h6>
            </div>
          </div>
          <div class="card-footer d-flex justify-content-between bg-light border">
            <a href="{% url 'stores:product_detail' product.slug %}" class="btn btn-sm text-dark p-0"><i
                class="fas fa-eye text-primary mr-1"></i>View Detail</a>
            <a href="" class="btn btn-sm text-dark p-0"><i class="fas fa-shopping-cart text-primary mr-1"></i>Add To
              Cart</a>
          </div>
        </div>
        {% endfor %}

      </div>
    </div>
  </div>
</div>
<!-- Products End -->
   <script src="{% static 'js/cart.js' %}"></script>
{% endblock carousel %}